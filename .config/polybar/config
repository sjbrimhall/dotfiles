####                            ####
## Triskelion Polybar Config MK I ##
####                            ####

[colors/main]
black  = ${xrdb:color0}
red    = ${xrdb:color1}
green  = ${xrdb:color2}
yellow = ${xrdb:color3}
blue   = ${xrdb:color4}
purple = ${xrdb:color5}
cyan   = ${xrdb:color6}
white  = ${xrdb:color7}

[colors/alt]
black  = ${xrdb:color8}
red    = ${xrdb:color9}
green  = ${xrdb:color10}
yellow = ${xrdb:color11}
blue   = ${xrdb:color12}
purple = ${xrdb:color13}
cyan   = ${xrdb:color14}
white  = ${xrdb:color15}

[colors]
background = ${xrdb:background}
foreground = ${colors/alt.blue}

###             ###
# Bar Definitions #
###             ###

[bar/user_music]
# Settings
bottom = false
monitor = ${env:POLYBAR_MONITOR:HDMI-1}
fixed-center = true
enable-ipc = true

# Appearance
background = ${colors.background}
foreground = ${colors.foreground}
module-margin = 2
padding = 2
width = 100%
height = 26

font-0 = Source Code Pro:size=10;2
font-1 = Material Design Icons:size=10;2

modules-left = i3-current i3-all
modules-center = time
modules-right = mpris

time-format = %H:%M:%S

[bar/user_volume]
inherit = bar/user_music
modules-right = volume
time-format = %A, %m %Y

[bar/bottom]
# Settings
bottom = true
monitor = ${env:POLYBAR_MONITOR:HDMI-1}
fixed-center = true
enable-ipc = true

# Appearance
background = ${colors.background}
foreground = ${colors.foreground}

module-margin = 2
padding = 2
width = 100%
height = 26

font-0 = Source code Pro:size=10;2
font-1 = Material Design Icons:size=10;2

modules-left = cpu
modules-center = rootfs domain
modules-right = ram reboot-indicator

[bar/network]
# Settings
bottom = true
monitor = ${env:POLYBAR_MONITOR:HDMI-2}
fixed-center = true
enable-ipc = true

# Appearance
background = ${colors.background}
foreground = ${colors.foreground}

module-margin = 2
padding = 2
width = 100%
height = 26

font-0 = Source Code Pro:size=10;2
font-1 = Material Design Icons:size=10;2

modules-left = lan
modules-right = wlan

###                          ###
# Userspace Module Definitions #
###                          ###

[module/i3-current]
type = internal/i3

# Settings
pin-workspaces = true
enable-click = false
enable-scroll = false

# Icons
ws-icon-0  =  0;desk
ws-icon-1  =  1;term
ws-icon-2  =  2;code
ws-icon-3  =  3;web
ws-icon-4  =  4;steam
ws-icon-5  =  5;game
ws-icon-6  =  6;files
ws-icon-7  =  7;media
ws-icon-8  =  8;comms
ws-icon-9  =  9;comms
ws-icon-10 = 10;conf

ws-icon-11 = 11;term
ws-icon-12 = 12;code
ws-icon-13 = 13;web
ws-icon-14 = 14;docs
ws-icon-15 = 15;vbox
ws-icon-16 = 16;vm
ws-icon-17 = 17;media
ws-icon-18 = 18;comms
ws-icon-19 = 19;comms
ws-icon-20 = 20;conf

# Disabled labels
label-mode =
label-unfocused =
label-urgent =

# Enabled labels
label-focused = %index%: %icon%
label-focused-foreground = ${colors/main.green}

label-visible = %index%: %icon%
label-visible-foreground = ${colors/alt.black}

# Format
format = <label-state>

[module/i3-all]
type = internal/i3

# Settings
pin-workspaces = true
enable-click = false
enable-scroll = false

# Workspace List Format
format = <label-state>

# Focused workspaces
label-focused = %index%
label-focused-foreground = ${colors/main.green}
label-focused-padding = 1

# Unfocused (hidden) workspaces
label-unfocused = %index%
label-unfocused-padding = 1

# Visible (but not focused) workspaces
label-visible = %index%
label-visible-foreground = ${colors/alt.black}
label-visible-padding = 1

# Urgent (pinged) workspaces
label-urgent = %index%
label-urgent-foreground = ${colors/main.yellow}
label-urgent-padding = 1

[module/time]
type = internal/date

# Settings
interval = 0.5
time = ${root.time-format}

# Appearance
format = <label>
label = %time%

[module/volume]
type = internal/pulseaudio

# Settings
use-ui-max = true

# Formatting
format-volume = vol:<label-volume>
format-muted = mut:<label-muted>

label-volume = %percentage:3%%
label-muted = %percentage:3%%
format-muted-foreground = ${colors/alt.black}

[module/mpris]
type = custom/script

tail = true
exec = ~/.config/polybar/scripts/mpris_status_2.py

###                       ###
# System Module Definitions #
###                       ###

[module/cpu]
type = internal/cpu

# Settings
interval = 0.5

# Formatting
format = cpu: <label>

#label = %percentage-core1:2%% %percentage-core2:2%% %percentage-core3:2%% %percentage-core4:2%% %percentage-core5:2%% %percentage-core6:2%% %percentage-core7:2%% %percentage-core8:2%% %percentage-core9:2%% %percentage-core10:2%% %percentage-core11:2%% %percentage-core12:2%% %percentage-core13:2%% %percentage-core14:2%% %percentage-core15:2%% %percentage-core16:2%%
label = %percentage-core1:3%%%percentage-core2:3%%%percentage-core3:3%%%percentage-core4:3%%%percentage-core5:3%%%percentage-core6:3%%%percentage-core7:3%%%percentage-core8:3%%%percentage-core9:3%%%percentage-core10:3%%%percentage-core11:3%%%percentage-core12:3%%%percentage-core13:3%%%percentage-core14:3%%%percentage-core15:3%%%percentage-core16:3%%

[module/ram]
type = internal/memory

# Settings
interval = 1

# Formatting
format = mem: <label>

label = %gb_used% (%percentage_used%%) used of %gb_total%

[module/rootfs]
type = internal/fs

# Settings
interval = 10
mount-0 = /
fixed-values = true

# Formatting
format-mounted = <label-mounted>
label-mounted = system storage: %free% free

[module/domain]
type = internal/fs

# Settings
interval = 10
mount-0 = /domain
fixed-values = true

# Formatting
format-mounted = <label-mounted>
label-mounted = domain storage: %free% free

format-unmounted = <label-unmounted>
label-unmounted = domain offline
format-unmounted-foreground = ${colors/alt.black}

[module/reboot-indicator]
type = custom/script

# Settings
interval = 60
exec = ~/.config/polybar/scripts/reboot-indicator.sh

[module/lan]
type = internal/network

# Settings
interface = lan
interval = 1

# Formatting
format-connected = <label-connected>
label-connected = link established at %local_ip%

format-disconnected = <label-disconnected>
label-disconnected = link offline
format-disconnected-foreground = ${colors/alt.black}

[module/wlan]
type = internal/network

# Settings
interface = wlan
interval = 1

# Formatting
format-connected = <label-connected>
label-connected = wireless link established to %essid%

format-disconnected = <label-disconnected>
label-disconnected = wireless link offline
format-disconnected-foreground = ${colors/alt.black}
